<!-- –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é -->
<button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é">
    <span></span>
    <span></span>
    <span></span>
</button>

<div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>

<nav class="mobile-menu" id="mobileMenu">
    <div class="mobile-menu-header">
        <div class="nav-brand">
            <a href="{{ url_for('main.index') }}" style="text-decoration: none; display: flex; align-items: center; gap: 1rem; color: inherit;">
                <div class="brand-mark">LOGO</div>
                <div class="brand-caption">–ß—ë—Ä–Ω—ã–π –Ω–µ–æ–Ω</div>
            </a>
        </div>
        <button class="mobile-menu-close" id="mobileMenuClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å –º–µ–Ω—é">&times;</button>
    </div>
    <div class="mobile-nav-links">
        <a href="{{ url_for('main.dashboard') }}" class="mobile-nav-link {% if request.endpoint == 'dashboard' %}active{% endif %}">
            <img src="{{ url_for('static', filename='icons/students_white-no-bg-preview (carve.photos).png') }}" alt="–£—á–µ–Ω–∏–∫–∏" class="mobile-nav-link-icon">
            <span>–£—á–µ–Ω–∏–∫–∏</span>
        </a>
        <a href="{{ url_for('schedule.schedule') }}" class="mobile-nav-link {% if request.endpoint == 'schedule' %}active{% endif %}">
            <img src="{{ url_for('static', filename='icons/schedule_white.png') }}" alt="–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ" class="mobile-nav-link-icon">
            <span>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</span>
        </a>
        <a href="{{ url_for('kege_generator.kege_generator') }}" class="mobile-nav-link {% if request.endpoint == 'kege_generator' %}active{% endif %}">
            <img src="{{ url_for('static', filename='icons/generator_white-no-bg-preview (carve.photos).png') }}" alt="–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä" class="mobile-nav-link-icon">
            <span>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä</span>
        </a>
        <a href="{{ url_for('main.update_plans') }}" class="mobile-nav-link {% if request.endpoint == 'update_plans' %}active{% endif %}">
            <img src="{{ url_for('static', filename='icons/notes_white-no-bg-preview (carve.photos).png') }}" alt="–ü–ª–∞–Ω—ã" class="mobile-nav-link-icon">
            <span>–ü–ª–∞–Ω—ã</span>
        </a>
        <a href="{{ url_for('templates.templates_list') }}" class="mobile-nav-link {% if request.endpoint == 'templates.templates_list' or request.endpoint == 'templates.template_view' or request.endpoint == 'templates.template_edit' or request.endpoint == 'templates.template_new' %}active{% endif %}">
            <span style="font-size: 1.5rem;">üìö</span>
            <span>–®–∞–±–ª–æ–Ω—ã</span>
        </a>
    </div>
</nav>

<script>
    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–±–∏–ª—å–Ω—ã–º –º–µ–Ω—é
    document.addEventListener('DOMContentLoaded', function() {
        const toggle = document.getElementById('mobileMenuToggle');
        const menu = document.getElementById('mobileMenu');
        const overlay = document.getElementById('mobileMenuOverlay');
        const close = document.getElementById('mobileMenuClose');

        function openMenu() {
            toggle.classList.add('active');
            menu.classList.add('active');
            overlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeMenu() {
            toggle.classList.remove('active');
            menu.classList.remove('active');
            overlay.classList.remove('active');
            document.body.style.overflow = '';
        }

        if (toggle) toggle.addEventListener('click', openMenu);
        if (close) close.addEventListener('click', closeMenu);
        if (overlay) overlay.addEventListener('click', closeMenu);

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Å—ã–ª–∫—É
        const mobileLinks = document.querySelectorAll('.mobile-nav-link');
        mobileLinks.forEach(link => {
            link.addEventListener('click', function() {
                setTimeout(closeMenu, 300); // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
            });
        });
    });
</script>



