<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞—Å—Å–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —É—Ä–æ–∫–æ–≤</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='modern_style.css') }}">
    <style>
        body {
            background: #0f172a;
            color: #e2e8f0;
            padding: 2em;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .form-group {
            margin-bottom: 1.5em;
        }
        label {
            display: block;
            margin-bottom: 0.5em;
            font-weight: 600;
            color: #c084fc;
        }
        textarea {
            width: 100%;
            min-height: 400px;
            padding: 1em;
            border-radius: 8px;
            border: 2px solid rgba(147, 51, 234, 0.3);
            background: rgba(20, 20, 30, 0.6);
            color: #e0e0e0;
            font-family: 'MonaspaceNeon', 'Courier New', monospace;
            font-size: 0.9em;
        }
        textarea:focus {
            outline: none;
            border-color: #a855f7;
        }
        .btn {
            padding: 0.8em 2em;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            font-size: 1em;
        }
        .btn-primary {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: #fff;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(99, 102, 241, 0.4);
        }
        .example {
            background: rgba(20, 20, 30, 0.6);
            padding: 1em;
            border-radius: 8px;
            margin-top: 1em;
            border: 1px solid rgba(147, 51, 234, 0.2);
        }
        .example code {
            color: #c084fc;
            font-family: 'MonaspaceNeon', 'Courier New', monospace;
        }
        .info-box {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            padding: 1em;
            border-radius: 8px;
            margin-bottom: 1.5em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìÖ –ú–∞—Å—Å–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —É—Ä–æ–∫–æ–≤</h1>
        
        <div class="info-box">
            <strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong>
            <ol style="margin: 0.5em 0 0 1.5em;">
                <li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —É—á–µ–Ω–∏–∫–∏ —Å–æ–∑–¥–∞–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ platform_id</li>
                <li>–í—Å—Ç–∞–≤—å—Ç–µ –¥–∞–Ω–Ω—ã–µ —É—Ä–æ–∫–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –Ω–∏–∂–µ</li>
                <li>–ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å —É—Ä–æ–∫–∏"</li>
            </ol>
        </div>
        
        <form method="POST">
            <div class="form-group">
                <label for="lessons_data">–î–∞–Ω–Ω—ã–µ —É—Ä–æ–∫–æ–≤ (JSON —Ñ–æ—Ä–º–∞—Ç):</label>
                <textarea id="lessons_data" name="lessons_data" placeholder='[
  {
    "platform_id": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω 123",
    "date": "2024-09-23",
    "time": "10:00",
    "duration": 60,
    "status": "completed"
  },
  {
    "platform_id": "–ü–µ—Ç—Ä–æ–≤ –ü–µ—Ç—Ä 456",
    "date": "2024-09-23",
    "time": "14:00",
    "duration": 60,
    "status": "completed"
  }
]'></textarea>
            </div>
            
            <div class="example">
                <strong>–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:</strong>
                <pre><code>[
  {
    "platform_id": "ID —É—á–µ–Ω–∏–∫–∞ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω 123)",
    "date": "YYYY-MM-DD (–Ω–∞–ø—Ä–∏–º–µ—Ä: 2024-09-23)",
    "time": "HH:MM (–Ω–∞–ø—Ä–∏–º–µ—Ä: 10:00)",
    "duration": 60,  // –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –º–∏–Ω—É—Ç–∞—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 60)
    "status": "completed"  // —Å—Ç–∞—Ç—É—Å: completed, planned, cancelled (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é completed)
  }
]</code></pre>
            </div>
            
            <button type="submit" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å —É—Ä–æ–∫–∏</button>
            <a href="{{ url_for('dashboard') }}" style="margin-left: 1em; color: #c084fc;">‚Üê –ù–∞–∑–∞–¥</a>
        </form>
        
        {# Flash messages –±—É–¥—É—Ç –ø–æ–∫–∞–∑–∞–Ω—ã —á–µ—Ä–µ–∑ toast #}
    </div>
    <script src="{{ url_for('static', filename='toast.js') }}"></script>
    <script src="{{ url_for('static', filename='audit-tracker.js') }}"></script>
    <script>
        // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º flash-—Å–æ–æ–±—â–µ–Ω–∏—è –≤ toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        {% if category == 'error' or category == 'danger' %}
                            if (typeof toast !== 'undefined' && toast) {
                                toast.error('{{ message|e }}');
                            } else if (window.toast) {
                                window.toast.error('{{ message|e }}');
                            }
                        {% elif category == 'warning' %}
                            if (typeof toast !== 'undefined' && toast) {
                                toast.warning('{{ message|e }}');
                            } else if (window.toast) {
                                window.toast.warning('{{ message|e }}');
                            }
                        {% elif category == 'info' %}
                            if (typeof toast !== 'undefined' && toast) {
                                toast.info('{{ message|e }}');
                            } else if (window.toast) {
                                window.toast.info('{{ message|e }}');
                            }
                        {% else %}
                            if (typeof toast !== 'undefined' && toast) {
                                toast.success('{{ message|e }}');
                            } else if (window.toast) {
                                window.toast.success('{{ message|e }}');
                            }
                        {% endif %}
                    {% endfor %}
                {% endif %}
            {% endwith %}
        });
    </script>
</body>
</html>

