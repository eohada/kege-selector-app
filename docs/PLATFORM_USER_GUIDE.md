# Полный гайд по платформе (для новичка)

Этот документ объясняет **каждый раздел платформы**, для чего он нужен, какие кнопки там бывают и как им пользоваться, как если бы вы **видели систему впервые**.

---

## 1) Основные понятия (очень коротко)

- **Ученик (Student)**: решает задачи, сдаёт ответы, читает конспекты, получает фидбек.
- **Родитель (Parent)**: видит прогресс и расписание ребёнка, но не вмешивается в учебный процесс (например, не пишет в диалог урока).
- **Преподаватель / Тьютор (Tutor)**: планирует занятия, выдаёт задания, проверяет, возвращает на доработку, ведёт аналитику.
- **Администратор / Создатель (Admin/Creator)**: имеет доступ ко всем разделам, настройкам и правам.

### 1.1 Права доступа (RBAC)
В системе действует модель прав: какие-то кнопки/разделы **видны только при наличии прав**.

Пример:
- если у вас нет права управлять биллингом — вы **не увидите** раздел тарифов/подписок в меню, а прямой переход по ссылке даст **403**.

---

## 2) Как устроена навигация (верхнее меню)

Меню адаптируется под роль:

### Ученик
Чаще всего видит:
- **Мой профиль** (комната ученика)
- **Статистика**
- **Расписание**

### Родитель
Чаще всего видит:
- **Мои дети** (дашборд родителя)
- **Расписание**

### Преподаватель / Админ
Чаще всего видит:
- **Ученики**
- **Расписание**
- Выпадающий блок **Учёба** (Работы / Проверка / Напоминания / Тренажёр)
- Выпадающий блок **Инструменты** (Группы / Приглашения / Рубрики / Генератор / Планы / Шаблоны / Библиотека / Тарифы/подписки / …)

---

## 3) Профиль пользователя (раздел “Профиль”)

### Для чего
Это ваш личный профиль (аккаунт), где находятся:
- основная информация (роль, дата регистрации, контакты)
- редактирование аватара/статуса/о себе
- быстрые действия (для преподавателя/админа)
- календарная синхронизация (если включено)

### Кнопки (типично)
- **Редактировать**: открывает модальное окно, где можно загрузить аватар, задать статус, описание, ссылку на Telegram.
- **Выйти из аккаунта**
- **Быстрые действия** (у преподавателя/админа): переходы в ключевые разделы (расписание, ученики, проверка, библиотека, рубрики, и т.д.) — видимость зависит от прав.

### Нюансы
- Если вы видите мало кнопок — это почти всегда **ограничение прав** или роль “ученик/родитель”.
- “Ссылка календаря (.ics)” — это приватная ссылка. Если её утекли — любой сможет смотреть календарь по этой ссылке.

---

## 4) Расписание (календарь занятий)

### Для чего
Центр планирования уроков:
- просмотр недели или списка
- создание/перенос уроков
- фильтры по статусам и ученикам
- экспорт календаря
- автоплан (повторяющиеся слоты)

### Где находится
В верхнем меню: **Расписание**

### Основные элементы
- **Переключатель вида**: `Неделя` / `Список`
- **Переключатель таймзоны**: `МСК` / `Томск` (если используется)
- **Фильтры**:
  - статус (запланирован/идёт/проведён/отменён)
  - категория/тип (если включено)
  - ученик (если доступно больше одного)
- **Действия** (выпадающее меню):
  - Экспорт `.ics`
  - Автоплан
  - Сгенерировать неделю

### Что можно делать преподавателю
- **Создать урок**: клик по сетке (в режиме “Неделя”).
- **Перенести урок**: перетаскиванием карточки.
- **Открыть инспектор урока**: клик по карточке урока → справа открывается инспектор.

#### Инспектор урока (справа)
В инспекторе обычно есть:
- время, статус, длительность, тип, тема
- кнопки:
  - **Открыть урок**
  - **Профиль**
  - **Сохранить**
  - **Удалить**
  - **Сделать еженедельным** (добавляет слот в автоплан)

### Что видит ученик/родитель
- Просмотр уроков, клик по уроку, переход к уроку (если доступно).
- Нельзя менять расписание (без прав).

### Автоплан (повторяющиеся слоты)
**Где открыть:** Расписание → `Действия` → `Автоплан`

**Зачем:** если есть регулярные уроки (например, каждый вторник 18:00), вы задаёте “слоты” и потом генерируете реальную неделю одним нажатием.

**Как пользоваться:**
- Открыть `Автоплан`
- Заполнить:
  - ученик
  - день недели
  - время
  - длительность
  - тип
  - таймзона слота
- Нажать **Добавить слот**
- Потом в расписании нажать `Действия` → **Сгенерировать неделю**

### Важные нюансы
- Если вы поставили время в Томске, а видите в ленте/уроках другое — проверьте выбранную таймзону и timezone профиля.
- Если “Действия”/выпадашки не открываются корректно — это обычно проблема верстки/overflow (исправляется в обновлениях).

---

## 5) Урок (классная комната)

Урок — это “контейнер”, внутри которого хранится:
- тема, дата/время, длительность, статус
- материалы (файлы)
- конспект/контент урока
- задачи (ДЗ/КР/проверочная)
- ответы ученика
- проверка учителем
- диалог по уроку

### 5.1 Экран урока: вкладки
Обычно внутри урока есть вкладки (названия могут немного отличаться):
- **Теория / Конспект**
- **Задания** (ДЗ / КР / проверочная — зависит от типа)
- **Материалы**
- **Заметки ученика**
- **Диалог**

### 5.2 Задания внутри урока
Каждая задача отображается карточкой:
- номер задачи
- условие
- поле ответа ученика
- статус (не начато / черновик / сдано / на доработку / проверено)
- у преподавателя — блок проверки и управления статусом

### 5.3 Кнопки ученика
Внизу обычно есть:
- **Сохранить черновик**
- **Сдать работу**

#### Нюансы сдачи
- После сдачи работа “финализируется” и редактирование закрывается.
- Если преподаватель вернул задачу **на доработку** — ученик сможет исправить **именно возвращённые** задачи и пересдать.

### 5.4 Кнопки преподавателя
Зависят от роли/прав, но обычно:
- **Добавить задания** (через генератор)
- **Сохранить изменения**
- **Панель проверки**: фильтр по статусам, “режим проверки”, массовые действия (пометить проверено / вернуть)
- В карточке задачи:
  - **Источник** (кнопка со ссылкой на источник задачи — видна преподавателю, но не ученику)
  - **Сохранить проверку**
  - **Вернуть на доработку**
  - **Отметить как проверено**
  - Быстрый тумблер “верно/неверно” (если используется)

---

## 6) Диалог по уроку (чат)

### Для чего
Обсуждение урока “ученик ↔ преподаватель” прямо внутри урока.

### Кто что может
- **Ученик**: может писать.
- **Преподаватель**: может писать.
- **Родитель**: **только читает**, писать не может.

### Нюансы
- Кнопка отправки сообщения обычно защищена от “спама кликами” (чтобы не плодить дубли).

---

## 7) Проверка (очередь проверок преподавателя)

### Для чего
Это единый список “что нужно проверить”:
- задания из классной комнаты (LessonTask)
- работы из системы Assignments (Submission/Assignment)

### Где открыть
Меню **Учёба** → **Проверка**

### Фильтры
Обычно:
- **Статус**: Сдано / На доработку / Проверено / Черновики
- **Источник**: Классная комната / Работы
- **Тип**: ДЗ / КР / Проверочная
- Поиск по ученику/названию

### Что означает карточка урока в “Проверке”
Карточка группирует задачи по уроку:
- количество задач
- кнопка **Открыть урок**
- список “чипов” задач (каждый ведёт к нужному месту в уроке)

### Итоги урока
Если преподаватель сохраняет “итоги урока” (процент/статус), система может автоматически обновлять статусы задач, чтобы очередь “Проверка” отражала реальность.

---

## 8) Работы (Assignments) — выдача и проверка работ

### Для чего
Отдельный механизм работ (контрольные/домашки) с:
- назначением ученикам
- сдачей
- проверкой по задачам
- итоговой оценкой
- применением **рубрики** (чек-листа критериев)

### Где находится
Меню **Учёба** → **Работы**

### Проверка работы (страница проверки)
На странице проверки обычно есть:
- список задач работы
- ответы ученика
- поля оценки/комментариев
- выбор рубрики (если включено)
- кнопки сохранить/вернуть/проверено

---

## 9) Рубрики (критерии проверки)

### Для чего
Рубрика — это шаблон критериев (чек-лист), который применяется при проверке работ, чтобы:
- проверять одинаково
- не забывать важные пункты
- быстро ставить баллы и комментарии по критериям

### Где находится
Меню **Инструменты** → **Рубрики**

### Кнопки
- **+ Новая рубрика**
- В списке рубрик:
  - **Редактировать**
  - **Удалить**

### Редактирование рубрики
Внутри рубрики:
- название
- описание
- тип (опционально)
- список критериев:
  - добавить критерий
  - удалить критерий
  - поля: ключ, название, описание, макс. балл

### Где применяется
Применение рубрики происходит на странице **проверки работы** (Assignments): там можно выбрать рубрику и заполнить критерии.

---

## 10) Диагностика ученика

### Для чего
Быстро показать:
- текущий уровень по темам
- слабые места
- рекомендации
- возможность сохранять контрольные точки диагностики (baseline/checkpoint)

### Где открыть
Обычно в профиле ученика есть кнопка/раздел “Диагностика”, либо из меню (в зависимости от UI).

### Нюансы
- Диагностика строится по данным:
  - из классной комнаты (уроки/задачи)
  - из работ (Assignments), если они используются
- Если данных мало — значит либо у задач нет тем, либо ещё нет результатов проверок.

---

## 11) Группы (классы)

### Для чего
Группа — это список учеников, чтобы:
- быстро видеть состав
- делать групповые отчёты/экспорт
- планировать/вести группу (в будущем — массовые действия)

### Где открыть
Меню **Инструменты** → **Группы**

### Внутри группы
Слева:
- список участников
- кнопка “Профиль” (если доступно)
- у менеджера: удалить ученика из группы

Справа:
- блок **Добавить ученика**
  - выпадающий список учеников
  - кнопка **Добавить**

### Экспорт
В шапке:
- **Экспорт CSV**
- **Экспорт PDF**

---

## 12) Библиотека материалов

### Для чего
Хранить файлы (материалы), которые можно:
- прикреплять к урокам
- скачивать по защищённым ссылкам (доступ по правам)

### Где открыть
Меню **Инструменты** → **Библиотека**

### Типы файлов
Список поддерживаемых расширений ограничен (обычно: pdf, png/jpg/webp, doc/docx, ppt/pptx, xls/xlsx, txt) и есть лимит размера.

---

## 13) Напоминания

### Для чего
Внутренние напоминания: преподавателю/ученику (в зависимости от реализации).

### Где открыть
Меню **Учёба** → **Напоминания**

---

## 14) Тарифы и подписки (Billing)

### Для чего
MVP биллинга без платежных интеграций:
- создать тариф (описание/цена/период)
- вручную выдать подписку пользователю на N дней

### Где открыть
Меню **Инструменты** → **Тарифы/подписки** (видно только при праве `billing.manage`)

### Тарифы
Страница “Тарифы”:
- форма “Новый тариф”
- список тарифов
- кнопка “Вкл/выкл”

### Подписки
Страница “Подписки”:
- форма “Новая подписка” (пользователь, тариф, дни)
- список подписок
- кнопка “Отменить”

---

## 15) Тренажёр (AI)

### Для чего
Отдельный режим обучения, где ученик решает задачи и получает помощь ассистента:
- анализ кода
- подсказки и вопросы
- (опционально) запуск тестов

### Где открыть
Меню **Учёба** → **Тренажёр** (нужно право `trainer.use`)

---

## 16) Админ панель

### Для чего
Управление системой:
- пользователи
- права доступа
- сервисные страницы (формироватор задач, диагностика и т.д.)

### Где открыть
В профиле (или в меню) — если вы админ/создатель.

---

## 17) Частые проблемы и что делать

### “Я не вижу кнопку/раздел”
Почти всегда:
- у вашей роли нет права
- вы смотрите не в том меню (ученик/родитель имеют другой набор пунктов)

### “Время отображается со сдвигом”
Проверьте:
- выбранную таймзону на странице расписания
- таймзону в профиле пользователя

### “Кнопка нажимается, но ничего не происходит”
Частые причины:
- блокировка из-за статуса (например, работа уже сдана)
- нет прав на действие
- нестабильная сеть/двойной клик (обычно исправляется защитой от повторов)

---

## 18) Мини-словарик статусов

- **planned**: запланирован
- **in_progress**: идёт
- **completed**: проведён
- **cancelled**: отменён

Для задач:
- **pending**: не начато/черновик
- **submitted**: сдано
- **returned**: на доработку
- **graded**: проверено

